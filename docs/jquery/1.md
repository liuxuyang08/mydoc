---
id: jquery-notes
title: jQuery 学习笔记
---

这里写你的笔记内容...
# jQuery 定位语法全解
## 一、前提准备
使用jQuery定位语法前，需先引入jQuery库（推荐CDN方式）：
```html
<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
```

## 二、核心定位语法分类
jQuery定位主要分为 **DOM结构定位**（找元素）、**坐标/位置定位**（获取/设置元素位置）、**滚动定位**（滚动到指定位置）三大类，以下是高频用法：

---

### 1. DOM结构定位（最常用，找元素）
通过元素的层级、兄弟、父子关系定位，核心是「选择器 + 遍历方法」。

| 场景                | 语法示例                          | 说明                                                                 |
|---------------------|-----------------------------------|----------------------------------------------------------------------|
| 后代元素            | `$("#parent .child")`             | 找id为parent的元素下所有class为child的后代（包括子/孙/曾孙）         |
| 直接子元素          | `$("ul > li")`                    | 找ul下的直接子元素li（仅一级，不包含孙级li）                         |
| 下一个相邻兄弟      | `$("#item").next()`               | 找id为item的元素**紧邻的下一个兄弟元素**；`$("#item").next(".active")` 过滤匹配class的 |
| 所有后续兄弟        | `$("#item").nextAll()`            | 找id为item的元素**所有后面的兄弟元素**；`nextUntil(".stop")` 到指定元素停止 |
| 上一个相邻兄弟      | `$("#item").prev()`               | 找id为item的元素**紧邻的上一个兄弟元素**                             |
| 所有前面兄弟        | `$("#item").prevAll()`            | 找id为item的元素**所有前面的兄弟元素**                               |
| 直接父元素          | `$("#child").parent()`            | 找id为child的元素**直接父元素**（仅一级）                            |
| 所有祖先元素        | `$("#child").parents()`           | 找id为child的元素**所有祖先元素**（直到html）；`parents(".container")` 过滤匹配 |
| 最近的匹配祖先      | `$("#child").closest(".box")`     | 从child自身向上找**第一个匹配.box的祖先（包括自身）**（比parents更高效） |
| 过滤索引定位        | `$("li").eq(2)`                   | 找所有li中**索引为2的元素**（索引从0开始，eq(0)是第一个，eq(-1)是最后一个） |
| 第一个/最后一个     | `$("li").first()` / `$("li").last()` | 找所有li中的第一个/最后一个                                          |
| 过滤匹配元素        | `$("div").filter(".active")`      | 从所有div中筛选出class为active的元素                                 |
| 排除匹配元素        | `$("div").not(".hidden")`         | 从所有div中排除class为hidden的元素                                   |
| 查找后代（链式）    | `$("#parent").find(".child")`     | 等价于`$("#parent .child")`，链式调用更清晰（推荐）                   |

---

### 2. 坐标/位置定位（获取/设置元素位置）
获取元素相对于文档/父元素的坐标，或修改元素位置。

| 场景                | 语法示例                          | 说明                                                                 |
|---------------------|-----------------------------------|----------------------------------------------------------------------|
| 获取相对于文档的坐标 | `let pos = $("#box").offset()`    | 返回{top: 数值, left: 数值}，单位px；`pos.top` 是距离文档顶部的距离   |
| 设置相对于文档的坐标 | `$("#box").offset({top: 100, left: 200})` | 强制将#box定位到文档top:100px、left:200px的位置（会修改元素position为absolute） |
| 获取相对父定位坐标  | `let pos = $("#box").position()`  | 返回{top: 数值, left: 数值}，相对于**最近的已定位父元素**（position:relative/absolute/fixed），只读 |
| 获取元素尺寸        | `$("#box").width()` / `height()`  | 内容区宽/高（不含内边距/边框）；`innerWidth()` 含内边距；`outerWidth(true)` 含内边距+边框+外边距 |

#### 示例：获取元素位置并打印
```js
// 获取#box相对于文档的位置
let offset = $("#box").offset();
console.log("距离顶部：", offset.top, "px，距离左侧：", offset.left, "px");

// 获取#box相对于父定位元素的位置
let position = $("#box").position();
console.log("相对父元素顶部：", position.top, "px");
```

---

### 3. 滚动定位（滚动到指定位置）
控制页面/元素滚动到目标位置，常用于锚点跳转。

| 场景                | 语法示例                          | 说明                                                                 |
|---------------------|-----------------------------------|----------------------------------------------------------------------|
| 获取页面滚动距离    | `$(window).scrollTop()`           | 获取页面垂直滚动的距离（px）；`scrollLeft()` 水平滚动距离             |
| 设置页面滚动距离    | `$(window).scrollTop(300)`        | 强制将页面滚动到top:300px的位置（无动画）                             |
| 平滑滚动到指定元素  | `$("html, body").animate({scrollTop: $("#target").offset().top}, 500)` | 500ms内平滑滚动到#target元素的顶部（兼容多浏览器）                   |
| 滚动到元素并偏移    | `scrollTop: $("#target").offset().top - 50` | 滚动到#target顶部并向上偏移50px（避免被导航栏遮挡）                   |

#### 示例：点击按钮平滑滚动到指定区域
```html
<button id="scrollBtn">滚动到底部</button>
<div id="footer" style="margin-top: 2000px;">底部区域</div>

<script>
$("#scrollBtn").click(function() {
  // 平滑滚动到#footer顶部，动画时长800ms
  $("html, body").animate({
    scrollTop: $("#footer").offset().top
  }, 800);
});
</script>
```

---

## 三、高频综合示例
需求：定位到列表中第3个li，修改其背景色，并滚动到该元素位置
```html
<ul id="list">
  <li>选项1</li>
  <li>选项2</li>
  <li>选项3</li>
  <li>选项4</li>
</ul>

<script>
// 1. 定位到第3个li（索引2）
let targetLi = $("#list > li").eq(2);

// 2. 修改样式
targetLi.css("background", "red");

// 3. 平滑滚动到该li位置
$("html, body").animate({
  scrollTop: targetLi.offset().top - 20 // 偏移20px
}, 600);
</script>
```

## 四、注意事项
1. 定位前确保DOM已加载：建议将代码放在`$(document).ready(function(){ ... })`中，避免元素未加载导致定位失败；
2. `position()` 是只读属性，无法设置；如需修改位置，用`offset()` 或CSS的`top/left`；
3. 平滑滚动时，`$("html, body")` 同时写是为了兼容Chrome/Firefox/IE等浏览器。
